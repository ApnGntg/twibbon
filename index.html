<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Twibbon Sekolah — Cantik & Unik</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <!-- main CSS (existing) -->
  <link rel="stylesheet" href="./css_style.css">
  <!-- animated background CSS -->
  <link rel="stylesheet" href="./background.css">
</head>
<body>
  <header class="header">
    <div class="container">
      <h1 class="logo">Twibbon Sekolah</h1>
      <p class="tag">Buat foto profil sekolah yang indah, unik, dan menarik — cepat & gratis.</p>
    </div>
  </header>

  <!-- Animated background scene (school + kids) -->
  <div id="scene">
    <svg viewBox="0 0 1200 400" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
      <!-- sky -->
      <defs>
        <linearGradient id="sky" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0" stop-color="#bde7ff"/>
          <stop offset="1" stop-color="#eaf6ff"/>
        </linearGradient>
      </defs>
      <rect width="1200" height="400" fill="url(#sky)"/>
      <!-- clouds layer -->
      <g class="layer" id="clouds">
        <g class="cloud" transform="translate(50,60) scale(0.9)">
          <ellipse cx="0" cy="0" rx="46" ry="22" fill="#fff"/>
          <ellipse cx="36" cy="-6" rx="30" ry="18" fill="#fff"/>
        </g>
        <g class="cloud" transform="translate(520,40) scale(1.1)">
          <ellipse cx="0" cy="0" rx="60" ry="26" fill="#fff"/>
          <ellipse cx="48" cy="-8" rx="36" ry="20" fill="#fff"/>
        </g>
      </g>

      <!-- ground / grass -->
      <rect x="0" y="240" width="1200" height="160" fill="#9be08a"/>

      <!-- school building -->
      <g id="school">
        <rect x="420" y="120" width="360" height="170" rx="12" fill="#ffefc7" stroke="#f4c150" stroke-width="3"/>
        <rect x="540" y="200" width="120" height="90" fill="#fff" opacity="0.95" stroke="#e6e6e6"/>
        <text x="600" y="160" text-anchor="middle" font-size="28" fill="#0f172a" font-weight="700" font-family="Inter, Arial">SEKOLAH</text>
      </g>

      <!-- kids groups: each .kid contains head, body and a .hand for waving -->
      <g class="kid" transform="translate(120,300) scale(0.9)" role="button" aria-label="Siswa 1">
        <circle cx="0" cy="-20" r="16" fill="#ffd6a5"/>
        <rect x="-12" y="-6" width="24" height="34" rx="6" fill="#60a5fa"/>
        <rect class="hand" x="12" y="-2" width="6" height="18" fill="#ffd6a5" transform="rotate(10)"/>
      </g>

      <g class="kid" transform="translate(300,305) scale(1)" role="button" aria-label="Siswa 2">
        <circle cx="0" cy="-20" r="16" fill="#ffd6a5"/>
        <rect x="-12" y="-6" width="24" height="34" rx="6" fill="#fb7185"/>
        <rect class="hand" x="-18" y="-2" width="6" height="18" fill="#ffd6a5" transform="rotate(-8)"/>
      </g>

      <g class="kid" transform="translate(460,298) scale(0.95)" role="button" aria-label="Siswa 3">
        <circle cx="0" cy="-20" r="14" fill="#ffd6a5"/>
        <rect x="-11" y="-5" width="22" height="30" rx="6" fill="#34d399"/>
        <rect class="hand" x="12" y="-2" width="5" height="16" fill="#ffd6a5" transform="rotate(6)"/>
      </g>

    </svg>
  </div>

  <main class="main container">
    <section class="controls">
      <div class="card upload-card">
        <label class="btn file-btn">
          Pilih Foto
          <input id="fileInput" type="file" accept="image/*" hidden>
        </label>
        <button id="sampleBtn" class="btn ghost">Gunakan Foto Contoh</button>
        <button id="resetBtn" class="btn ghost">Reset Posisi</button>
        <div class="control-row">
          <label>Zoom</label>
          <input id="zoom" type="range" min="0.5" max="2.5" step="0.01" value="1">
        </div>
        <div class="control-row">
          <label>Rotasi</label>
          <input id="rotate" type="range" min="-45" max="45" step="1" value="0">
        </div>
        <div class="control-row">
          <label>Background</label>
          <select id="bgSelect">
            <option value="#ffffff">Putih</option>
            <option value="#f8fafc">Pastel Biru</option>
            <option value="#fff7ed">Pastel Kuning</option>
            <option value="transparent">Transparan (PNG)</option>
          </select>
        </div>

        <div class="actions">
          <button id="downloadBtn" class="btn primary">Download PNG</button>
        </div>
      </div>
    </section>

    <section class="preview">
      <div class="card preview-card">
        <div class="canvas-wrap" id="canvasWrap">
          <canvas id="previewCanvas" width="800" height="800" aria-label="Preview twibbon"></canvas>
        </div>
        <p class="hint">Tarik foto untuk menggeser, gunakan slider untuk zoom/rotasi. Area tengah akan menjadi fokus.</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <small>Dibuat dengan ❤️ untuk tema sekolah — ApnGntg</small>
    </div>
  </footer>

  <!-- inline SVG overlay (twibbon) kept as in original file -->
  <svg id="twibbon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" width="0" height="0" aria-hidden="true">
    <!-- (SVG content preserved) -->
  </svg>

  <!-- existing JS for twibbon app -->
  <script src="./js_app.js" defer></script>
  <!-- background interactivity -->
  <script src="./background.js" defer></script>
</body>
</html>
